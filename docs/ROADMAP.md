# ロードマップ

## 現在のバージョン: v1.0.0

基本的なゲーム機能を提供する初回リリース。主な成果物:
- コアゲームループ (メインシーン、判定ロジック、スコア集計)
- 最低限のUI (タイトル/リザルト画面、スコア表示)
- 主要サービス統合 (Supabaseスコア送信、アセット管理)

---

## リリース計画概要
| バージョン | ターゲット時期 | 主目的 | 主要成果物 | モックアップ期限 |
|------------|----------------|--------|--------------|------------------|
| v1.1.0 | 2025年Q2 | ゲーム体験向上 | レベル選択UX、アチーブメント、パフォーマンスプロファイル | 2025-03-31 |
| v1.2.0 | 2025年Q3 | 国際化対応 | 多言語UI、地域ランキング、テキストアセット統合 | 2025-06-30 |
| v1.3.0 | 2025年Q4 | ソーシャル機能 | フレンド機能、共有フロー、通知設定 | 2025-09-30 |
| v2.0.0 | 2026年Q1 | 大型アップデート | 新モード群、カスタマイズ、統計ダッシュボード | 2025-12-15 |

> **モックアップ必須ポリシー**: 各機能は実装着手前にFigmaハイレベルモック (構造と動線) と Hi-Fiモック (スタイル確定) を作成。ワイヤー → Hi-Fi → プロトタイプの3段階で承認を得る。

---

## v1.1.0 ゲーム体験の向上 (2025年Q2)

### ゴール
- 難易度ごとの成長曲線を可視化し、プレイヤーが継続しやすい導線を準備
- アチーブメント導入により継続率+10%を狙う
- 60fps維持とロード時間20%短縮

### モックアップ・デザイン計画
- **3/7**: レベル選択フローのワイヤーフレーム (UX担当: Sato) → チームレビュー
- **3/21**: ハイファイモック完成 (UI担当: Nakamura) → QA/開発サインオフ
- **4/4**: アチーブメントボードのインタラクションプロトタイプ (Figma Prototype) → プレイテスト7名
- **継続**: デザインシステム更新 (色/タイプスケール) を `docs/ASSETS.md` に反映

### 主な機能ブロック
- **マルチレベル対応**
  - 難易度選択コンポーネント刷新 (`src/components/LevelSelector.tsx`)
  - レベル別スコアランキング API 拡張 (`src/services/scoreService.ts`)
  - 適応型難易度調整アルゴリズム (テレメトリを用いたBetaテスト)
- **アチーブメントシステム**
  - 条件定義とバッジアセット作成
  - 進捗追跡UI + Supabaseスキーママイグレーション
  - 通知トーストモック → 実装 (アクセシビリティ考慮)

### テスト・QA
- ユニット: 難易度ロジック、アチーブメント判定
- E2E: レベルクリア → アチーブメント付与 → リザルト共有動線
- プレイテスト: 4月中旬に社内セッション2回

---

## v1.2.0 国際化対応 (2025年Q3)

### ゴール
- 英語/中国語(簡)/韓国語でUIをネイティブ品質にローカライズ
- 地域ランキング導入で海外ユーザーの競争体験を確立
- テキストリソースをCMS化し翻訳フローを自動化

### モックアップ・デザイン計画
- **5/16**: ローカライズ可能なレイアウトワイヤー (i18n拡張) → 開発確認
- **6/13**: 多言語UI Hi-Fiモック (各言語1シナリオ) → 翻訳者フィードバック
- **6/27**: 地域別ランキングダッシュボードプロトタイプ → KPI/データチーム承認

### 主な機能ブロック
- **多言語対応**
  - `src/utils/i18n.ts` の多言語パック対応と自動言語判定
  - 言語切替モーダル + 初回起動チュートリアルモック
  - フォント読み込み管理 (動的サブセット)
- **地域別ランキング**
  - Supabase 関連テーブル拡張とRLSレビュー
  - タイムゾーンを考慮したランキング表示 (Chrono-tz導入)
  - KPIモニタリングダッシュボード (Metabase, 週次更新)

### テスト・QA
- ユニット: フォーマッタ、日付ロジックのスナップショット
- E2E: 言語切替／リージョン選択の回帰テスト
- LQA: ネイティブチェック + アクセシビリティレビュー (WCAG 2.1 AA)

---

## v1.3.0 ソーシャル機能 (2025年Q4)

### ゴール
- プレイヤー間の継続的なエンゲージメントを生むソーシャル基盤
- SNS共有→再訪問率+15%を目標
- 通知・インボックス体験の整備

### モックアップ・デザイン計画
- **8/8**: フレンド管理フローのワイヤー → セキュリティレビュー(招待リンク)
- **9/5**: 共有モーダル・リプレイ画面 Hi-Fiモック → SNSプレビュー検証
- **9/19**: 通知センターインタラクションプロトタイプ → QA/サウンド確認

### 主な機能ブロック
- **フレンド機能**
  - フレンド検索/追加UI (`src/scenes/social/FriendScene.ts`)
  - Supabaseリアルタイム購読によるオンライン表示
  - プライバシー設定とブロック機能
- **共有機能**
  - ワンクリックSNS共有 (X, Instagram, Threads) のOG画像生成
  - リプレイ録画保存 (最大30秒 GIF/MP4)
  - スクリーンショット自動生成 (Canvasキャプチャ)

### テスト・QA
- ユニット: 共有リンク生成、通知キュー制御
- E2E: フレンド追加→チャレンジ送信→リプレイ視聴シナリオ
- 負荷: 同時接続100ユーザーでリアルタイム機能検証

---

## v2.0.0 大型アップデート (2026年Q1)

### ゴール
- プレイバリエーションを拡張し、リテンション30%向上
- カスタマイズ性とデータ洞察を通じて長期継続を促進
- 大規模リリース前のUX再設計完了

### モックアップ・デザイン計画
- **10/24**: 新ゲームモード3種のゲームフローワイヤー → 体験設計レビュー
- **11/28**: カスタマイズ画面 Hi-Fiモック → アセット制作連携
- **12/12**: 統計ダッシュボード データVizプロトタイプ → PM/データ承認
- **12/19**: 統合プレイテスト用インタラクティブモック (クリックプロトタイプ)

### 主な機能ブロック
- **新ゲームモード**
  - タイムアタック: 制限時間UIとスコア倍率
  - エンドレス: スケーラブルな難易度調整と休憩プロンプト
  - 協力プレイ: 同期ロビー、P2P通信(シミュレーション→実装)
- **カスタマイゼーション**
  - テーマエディタ (カラー/パーティクル/音声プリセット)
  - アバターカスタム: レイヤードスプライト構造、アセット指針は `docs/ASSETS.md`
  - サウンド設定プリセット + Export/Import
- **統計・分析**
  - パフォーマンスグラフ (D3 + 時系列比較)
  - スキル進捗レポート (API集計バッチ)
  - 個別アドバイス生成 (初期AIフック)

### テスト・QA
- ユニット: 新モード固有ロジック、統計計算
- E2E: モード別プレイサイクル、カスタムテーマ適用→共有
- ベータ: 2026-02 外部クローズドベータ (招待500名)

---

## 長期的ビジョン

### モバイル対応 (2026年後半)
- PWA + AppShellモック (2026-04) → タップ領域ガイドライン確立
- iOS/Android向けジェスチャー検証プロトタイプ
- オフラインキャッシュ戦略のテックモック (Service Worker Flow)

### AI機能 (2027年)
- 適応学習アルゴリズム (難易度提示モック + A/Bテスト計画)
- プレイスタイル分析ダッシュボード (データビジュアルモック)
- 問題点フィードバックUI (アシスタントキャラクター案)

### VR/AR対応 (未定)
- WebXR状態遷移モック (2027H2調査)
- 空間UIコンセプトアート → インタラクションプロトタイプ検証
- 新しい操作体系のユーザビリティテストプラン

---

## コミュニティ要望トリアージ

| 優先度 | 要望 | ステータス | 次アクション |
|--------|------|------------|---------------|
| 高 | ダークモード対応 | 調査完了 | v1.2.0で多言語モックと合わせてUI統一案作成 |
| 高 | キーボードショートカット | 案出中 | v1.1.0モックに動線を組み込みレビュー |
| 高 | ゲーム設定の保存 | アイデア収集中 | v1.3.0の通知設定と併せてワイヤー作成 |
| 中 | リプレイ機能 | 技術調査中 | v1.3.0共有機能のモックに含める |
| 中 | カスタムテーマ | 未着手 | v2.0.0カスタマイゼーションモックで要件洗い出し |
| 中 | 音声設定の詳細化 | 未着手 | v2.0.0サウンドプリセットモックで検討 |
| 低 | ゲーム内チュートリアル拡張 | バックログ | v1.1.0アチーブメント導線後に評価 |
| 低 | 季節イベント | バックログ | モバイル対応検討時にビジュアルモック作成 |
| 低 | 特別なエフェクト | バックログ | アセットチームとAR案に含め検討 |

---

## モックアップ制作フロー
1. **要件整理 (PM/デザイン)**: スコープと成功指標をNotionに記述
2. **ワイヤーフレーム作成 (Figma)**: 主要画面32pxグリッドで作成、チームレビュー
3. **ハイファイモック**: デザインシステムに合わせ配色/タイポグラフィ確定、アクセシビリティチェック
4. **インタラクティブプロトタイプ**: 遷移・アニメーションを定義、開発レビューで実装仕様化
5. **アーカイブ/共有**: `docs/mockups/` にエクスポート画像を配置、チャンネル #ui-ux-dev で共有

---

## 貢献方法
- **GitHub Issues**: 新機能/モック提案テンプレートを使用
- **Discussions**: モックレビューやプレイ体験のフィードバックに活用
- **Pull Requests**: 実装およびモックアップ更新 (Figmaリンクを添付)

---

## 優先度決定基準
1. **ユーザー価値**: エンゲージメント/リテンションへの寄与
2. **技術的実現性**: 依存関係・リスク評価
3. **リソース**: 工数とアセット制作ラインの確保
4. **コミュニティ要望**: 要望数・定性フィードバック
5. **モックアップ準備状況**: Hi-Fiモック承認済み機能を優先

---

## 更新履歴
- **2025-03-05**: 詳細版ロードマップ作成 (モックアッププロセス追記)
- 四半期ごとにステータス更新予定

---

このロードマップは計画であり、開発状況に応じて変更される可能性があります。最新情報の確認をお願いいたします。
